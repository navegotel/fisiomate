{% load i18n %}
<input type="hidden" name="patient" value="{{form.patient.value}}">
<input type="hidden" name="examination" value="{{form.examination.value}}">
<div class="field is-horizontal">
    <div class="field-label is-normal">
        <label class="label" for="id_label">{{form.label.label}}</label>
    </div>
    <div class="field-body">
        <div class="field">
            <p class="control is-expanded has-icons-left">
                {{form.label}}
                <span class="icon is-small is-left">
                    <i class="fas fa-tag"></i>
                </span>
            </p>
            {% for error in form.label.errors %}
            <p class="help is-danger">{{error}}</p>
            {% endfor %}
        </div>
    </div>
</div>

<div class="field is-horizontal">
    <div class="field-label is-normal">
        <label class="label" for="id_upload">{{form.upload.label}}</label>
    </div>
    <div class="field-body">
        <div id="uploadfile" class="file has-name is-fullwidth">
            <label class="file-label">
                <input class="file-input" type="file" name="upload">
                <span class="file-cta">
                    <span class="file-icon">
                        <i class="fas fa-upload"></i>
                    </span>
                    <span class="file-label">
                        {% translate 'Choose a fileâ€¦' %}
                    </span>
                </span>
                <span class="file-name">
                    ...
                </span>
            </label>
        </div>
    </div>
</div>
<script>
    const fileInput = document.querySelector('#uploadfile input[type=file]');
    fileInput.onchange = () => {
      if (fileInput.files.length > 0) {
        const fileName = document.querySelector('#uploadfile .file-name');
        fileName.textContent = fileInput.files[0].name;
      }
    }
  </script>